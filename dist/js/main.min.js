/*! BuildToolsCookbook v2.0.0 | (c) 2022 Pradow | MIT License | http://github.com/cferdinandi/build-tools-boilerplate */
!function(){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);const n=document.querySelector("#productInfoModal"),t=document.querySelector("#productInfo");function e(){n.classList.toggle("modal-open")}function i(n){const i=n.currentTarget,s=c.products.filter((n=>n.id===i.dataset.id));var r;r=s,t.innerHTML=`<div class="product-name">${r[0].product_name}</div>\n    <div class="product-ingredients">${r[0].ingredients_text||""}</div>\n    <div class="product-container">\n      <div class="product-image">\n        <img src="${r[0].image_url||""}" alt="${r[0].image_url?r[0].product_name:""}">\n      </div>\n      <div class="product-nutrients">\n        <div class="nutrient-container">\n          <div class="nutrient-name">kcal / 100g</div>\n          <div class="nutrient-amount">\n            ${r[0].nutriments["energy-kcal_100g"]||""}\n          </div>\n        </div>\n        <div class="nutrient-container">\n          <div class="nutrient-name">Carbohydrates / 100g</div>\n          <div class="nutrient-amount">${r[0].nutriments.carbohydrates_100g||""}</div>\n        </div>\n        <div class="nutrient-container">\n          <div class="nutrient-name">Fat / 100g</div>\n          <div class="nutrient-amount">${r[0].nutriments.fat_100g||""}</div>\n        </div>\n        <div class="nutrient-container">\n          <div class="nutrient-name">Protein / 100g</div>\n          <div class="nutrient-amount">${r[0].nutriments.proteins_100g||""}</div>\n        </div>\n        <div class="nutrient-container">\n          <div class="nutrient-name">Fiber / 100g</div>\n          <div class="nutrient-amount">${r[0].nutriments.fiber_100g||""}</div>\n        </div>\n        <div class="nutrient-container">\n          <div class="nutrient-name">Sodium / 100g</div>\n          <div class="nutrient-amount">${r[0].nutriments.sodium_100g||""}</div>\n        </div>\n        <div class="nutrient-container">\n          <div class="nutrient-name">Sugars / 100g</div>\n          <div class="nutrient-amount">${r[0].nutriments.sugars_100g||""}</div>\n        </div>\n      </div>\n    </div>`,e()}document.querySelector("#closeModal").addEventListener("click",e);const s=document.querySelector("#searchFoodForm"),r=document.querySelector("#searchFoodInput"),a=document.querySelector("#searchResults");let c;let d=async(n,t)=>{c=await async function(n){const t=await fetch(n);return await t.json()}(n),console.log(c.products),t()};function o(){const n=[],t=document.createDocumentFragment();c.products.forEach((t=>{const e={name:t.product_name,id:t.id,image:t.image_url,ingredients:t.ingredients_text,nutrients:t.nutriments};n.push(e)})),n.forEach((n=>{t.append(function(n){const t=document.createElement("div");return t.innerText=n.name,t.setAttribute("data-id",n.id),t.classList.add("product-list-item"),t.addEventListener("click",i),t}(n))})),a.append(t)}s.addEventListener("submit",(function(n){n.preventDefault();const t=`https://world.openfoodfacts.org/cgi/search.pl?search_terms=${r.value}&page=1&search_simple=1&action=process&json=1`;d(t,o)}))}();
