/*! BuildToolsCookbook v2.0.0 | (c) 2022 Pradow | MIT License | http://github.com/cferdinandi/build-tools-boilerplate */
!function(){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);const e=document.querySelector("#productInfoModal"),t=document.querySelector("#productInfo");function o(){e.classList.toggle("modal-open")}document.querySelector("#closeModal").addEventListener("click",o);const c=document.querySelector("#searchFoodForm"),n=document.querySelector("#searchFoodInput"),r=document.querySelector("#searchResults");let s;let a=async(e,t)=>{s=await async function(e){const t=await fetch(e);return await t.json()}(e),console.log(s.products),t()};function d(e){const c=e.currentTarget,n=s.products.filter((e=>e.id===c.dataset.id));var r;r=n,t.innerText=`${r[0].id} ${r[0].product_name}`,o()}function u(){const e=[],t=document.createDocumentFragment();s.products.forEach((t=>{const o={name:t.product_name,id:t.id};e.push(o)})),e.forEach((e=>{t.append(function(e){const t=document.createElement("div");return t.innerText=e.name,t.setAttribute("data-id",e.id),t.classList.add("product-list-item"),t.addEventListener("click",d),t}(e))})),r.append(t)}c.addEventListener("submit",(function(e){e.preventDefault();const t=`https://world.openfoodfacts.org/cgi/search.pl?search_terms=${n.value}&page=1&search_simple=1&action=process&json=1`;a(t,u)}))}();
